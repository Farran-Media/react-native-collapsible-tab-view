{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactNativePagerView","_reactNativeReanimated","_interopRequireWildcard","_Context","_Lazy","_MaterialTabBar","_Tab","_helpers","_hooks","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","AnimatedPagerView","Animated","createAnimatedComponent","PagerView","Container","exports","React","memo","forwardRef","initialTabName","headerHeight","initialHeaderHeight","minHeaderHeight","tabBarHeight","initialTabBarHeight","TABBAR_HEIGHT","revealHeaderOnScroll","snapThreshold","children","renderHeader","renderTabBar","props","createElement","MaterialTabBar","headerContainerStyle","cancelTranslation","containerStyle","lazy","cancelLazyFadeIn","pagerProps","onIndexChange","onTabChange","width","customWidth","allowHeaderOverscroll","ref","containerRef","useContainerRef","tabProps","tabNamesArray","useTabProps","Tab","refMap","setRef","useAnimatedDynamicRefs","windowWidth","useWindowDimensions","containerHeight","getContainerLayoutHeight","useLayoutHeight","getTabBarHeight","getHeaderHeight","initialIndex","useMemo","findIndex","contentInset","IS_IOS","snappingTo","useSharedValue","offset","accScrollY","oldAccScrollY","accDiffClamp","scrollYCurrent","scrollY","fromEntries","map","contentHeights","tabNames","useDerivedValue","index","focusedTab","value","calculateNextOffset","headerScrollDistance","undefined","indexDecimal","afterRender","useEffect","withDelay","ONE_FRAME_MS","withTiming","duration","resyncTabScroll","name","scrollToImpl","useAnimatedReaction","trigger","nextIndex","Math","round","propagateTabChange","useCallback","change","syncCurrentTabScrollPosition","toggleSyncScrollFrame","toggle","syncScrollFrame","setActive","useFrameCallback","timeSinceFirstFrame","runOnJS","prevIndex","prevTabName","tabName","_current","prev","headerTranslateY","min","stylez","useAnimatedStyle","transform","translateY","onTabPress","runOnUI","_containerRef$current","current","setPage","tabLength","pageScrollHandler","usePageScrollHandler","onPageScroll","position","useImperativeHandle","setIndex","jumpToTab","getFocusedTab","getCurrentIndex","Context","Provider","View","style","styles","container","onLayout","pointerEvents","topContainer","headerContainer","tabBarContainer","initialPage","StyleSheet","absoluteFill","key","pageContainer","TabNameContext","Lazy","startMounted","Children","toArray","create","flex","height","zIndex","backgroundColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"sources":["Container.tsx"],"sourcesContent":["import React from 'react'\nimport { StyleSheet, useWindowDimensions, View } from 'react-native'\nimport PagerView from 'react-native-pager-view'\nimport Animated, {\n  runOnJS,\n  runOnUI,\n  useAnimatedReaction,\n  useAnimatedStyle,\n  useDerivedValue,\n  useSharedValue,\n  withDelay,\n  withTiming,\n  useFrameCallback,\n} from 'react-native-reanimated'\n\nimport { Context, TabNameContext } from './Context'\nimport { Lazy } from './Lazy'\nimport { MaterialTabBar, TABBAR_HEIGHT } from './MaterialTabBar'\nimport { Tab } from './Tab'\nimport { IS_IOS, ONE_FRAME_MS, scrollToImpl } from './helpers'\nimport {\n  useAnimatedDynamicRefs,\n  useContainerRef,\n  usePageScrollHandler,\n  useTabProps,\n  useLayoutHeight,\n} from './hooks'\nimport {\n  CollapsibleProps,\n  CollapsibleRef,\n  ContextType,\n  IndexChangeEventData,\n  TabName,\n} from './types'\n\nconst AnimatedPagerView = Animated.createAnimatedComponent(PagerView)\n\n/**\n * Basic usage looks like this:\n *\n * ```tsx\n * import { Tabs } from 'react-native-collapsible-tab-view'\n *\n * const Example = () => {\n *   return (\n *     <Tabs.Container renderHeader={MyHeader}>\n *       <Tabs.Tab name=\"A\">\n *         <ScreenA />\n *       </Tabs.Tab>\n *       <Tabs.Tab name=\"B\">\n *         <ScreenB />\n *       </Tabs.Tab>\n *     </Tabs.Container>\n *   )\n * }\n * ```\n */\nexport const Container = React.memo(\n  React.forwardRef<CollapsibleRef, CollapsibleProps>(\n    (\n      {\n        initialTabName,\n        headerHeight: initialHeaderHeight,\n        minHeaderHeight = 0,\n        tabBarHeight: initialTabBarHeight = TABBAR_HEIGHT,\n        revealHeaderOnScroll = false,\n        snapThreshold,\n        children,\n        renderHeader,\n        renderTabBar = (props) => <MaterialTabBar {...props} />,\n        headerContainerStyle,\n        cancelTranslation,\n        containerStyle,\n        lazy,\n        cancelLazyFadeIn,\n        pagerProps,\n        onIndexChange,\n        onTabChange,\n        width: customWidth,\n        allowHeaderOverscroll,\n      },\n      ref\n    ) => {\n      const containerRef = useContainerRef()\n\n      const [tabProps, tabNamesArray] = useTabProps(children, Tab)\n\n      const [refMap, setRef] = useAnimatedDynamicRefs()\n\n      const windowWidth = useWindowDimensions().width\n      const width = customWidth ?? windowWidth\n\n      const [containerHeight, getContainerLayoutHeight] = useLayoutHeight()\n\n      const [tabBarHeight, getTabBarHeight] =\n        useLayoutHeight(initialTabBarHeight)\n\n      const [headerHeight, getHeaderHeight] = useLayoutHeight(\n        !renderHeader ? 0 : initialHeaderHeight\n      )\n      const initialIndex = React.useMemo(\n        () =>\n          initialTabName\n            ? tabNamesArray.findIndex((n) => n === initialTabName)\n            : 0,\n        [initialTabName, tabNamesArray]\n      )\n\n      const contentInset = React.useMemo(() => {\n        if (allowHeaderOverscroll) return 0\n\n        // necessary for the refresh control on iOS to be positioned underneath the header\n        // this also adjusts the scroll bars to clamp underneath the header area\n        return IS_IOS ? (headerHeight || 0) + (tabBarHeight || 0) : 0\n      }, [headerHeight, tabBarHeight, allowHeaderOverscroll])\n\n      const snappingTo: ContextType['snappingTo'] = useSharedValue(0)\n      const offset: ContextType['offset'] = useSharedValue(0)\n      const accScrollY: ContextType['accScrollY'] = useSharedValue(0)\n      const oldAccScrollY: ContextType['oldAccScrollY'] = useSharedValue(0)\n      const accDiffClamp: ContextType['accDiffClamp'] = useSharedValue(0)\n      const scrollYCurrent: ContextType['scrollYCurrent'] = useSharedValue(0)\n      const scrollY: ContextType['scrollY'] = useSharedValue(\n        Object.fromEntries(tabNamesArray.map((n) => [n, 0]))\n      )\n\n      const contentHeights: ContextType['contentHeights'] = useSharedValue(\n        tabNamesArray.map(() => 0)\n      )\n\n      const tabNames: ContextType['tabNames'] = useDerivedValue<TabName[]>(\n        () => tabNamesArray,\n        [tabNamesArray]\n      )\n      const index: ContextType['index'] = useSharedValue(initialIndex)\n\n      const focusedTab: ContextType['focusedTab'] =\n        useDerivedValue<TabName>(() => {\n          return tabNames.value[index.value]\n        }, [tabNames])\n      const calculateNextOffset = useSharedValue(initialIndex)\n      const headerScrollDistance: ContextType['headerScrollDistance'] =\n        useDerivedValue(() => {\n          return headerHeight !== undefined ? headerHeight - minHeaderHeight : 0\n        }, [headerHeight, minHeaderHeight])\n\n      const indexDecimal: ContextType['indexDecimal'] = useSharedValue(\n        index.value\n      )\n\n      const afterRender = useSharedValue(0)\n      React.useEffect(() => {\n        afterRender.value = withDelay(\n          ONE_FRAME_MS * 5,\n          withTiming(1, { duration: 0 })\n        )\n      }, [afterRender, tabNamesArray])\n\n      const resyncTabScroll = () => {\n        'worklet'\n        for (const name of tabNamesArray) {\n          scrollToImpl(\n            refMap[name],\n            0,\n            scrollYCurrent.value - contentInset,\n            false\n          )\n        }\n      }\n\n      // the purpose of this is to scroll to the proper position if dynamic tabs are changing\n      useAnimatedReaction(\n        () => {\n          return afterRender.value === 1\n        },\n        (trigger) => {\n          if (trigger) {\n            afterRender.value = 0\n            resyncTabScroll()\n          }\n        },\n        [tabNamesArray, refMap, afterRender, contentInset]\n      )\n\n      // derived from scrollX\n      // calculate the next offset and index if swiping\n      // if scrollX changes from tab press,\n      // the same logic must be done, but knowing\n      // the next index in advance\n      useAnimatedReaction(\n        () => {\n          const nextIndex = Math.round(indexDecimal.value)\n          return nextIndex\n        },\n        (nextIndex) => {\n          if (nextIndex !== null && nextIndex !== index.value) {\n            calculateNextOffset.value = nextIndex\n          }\n        },\n        []\n      )\n\n      const propagateTabChange = React.useCallback(\n        (change: IndexChangeEventData<TabName>) => {\n          onTabChange?.(change)\n          onIndexChange?.(change.index)\n        },\n        [onIndexChange, onTabChange]\n      )\n\n      const syncCurrentTabScrollPosition = () => {\n        'worklet'\n\n        const name = tabNamesArray[index.value]\n        scrollToImpl(\n          refMap[name],\n          0,\n          scrollYCurrent.value - contentInset,\n          false\n        )\n      }\n\n      /*\n       * We run syncCurrentTabScrollPosition in every frame after the index\n       * changes for about 1500ms because the Lists can be late to accept the\n       * scrollTo event we send. This fixes the issue of the scroll position\n       * jumping when the user changes tab.\n       * */\n      const toggleSyncScrollFrame = (toggle: boolean) =>\n        syncScrollFrame.setActive(toggle)\n      const syncScrollFrame = useFrameCallback(({ timeSinceFirstFrame }) => {\n        syncCurrentTabScrollPosition()\n        if (timeSinceFirstFrame > 1500) {\n          runOnJS(toggleSyncScrollFrame)(false)\n        }\n      }, false)\n\n      useAnimatedReaction(\n        () => {\n          return calculateNextOffset.value\n        },\n        (i) => {\n          if (i !== index.value) {\n            offset.value =\n              scrollY.value[tabNames.value[index.value]] -\n              scrollY.value[tabNames.value[i]] +\n              offset.value\n            runOnJS(propagateTabChange)({\n              prevIndex: index.value,\n              index: i,\n              prevTabName: tabNames.value[index.value],\n              tabName: tabNames.value[i],\n            })\n            index.value = i\n            if (\n              typeof scrollY.value[tabNames.value[index.value]] === 'number'\n            ) {\n              scrollYCurrent.value =\n                scrollY.value[tabNames.value[index.value]] || 0\n            }\n            runOnJS(toggleSyncScrollFrame)(true)\n          }\n        },\n        []\n      )\n\n      useAnimatedReaction(\n        () => headerHeight,\n        (_current, prev) => {\n          if (prev === undefined) {\n            // sync scroll if we started with undefined header height\n            resyncTabScroll()\n          }\n        }\n      )\n\n      const headerTranslateY = useDerivedValue(() => {\n        return revealHeaderOnScroll\n          ? -accDiffClamp.value\n          : -Math.min(scrollYCurrent.value, headerScrollDistance.value)\n      }, [revealHeaderOnScroll])\n\n      const stylez = useAnimatedStyle(() => {\n        return {\n          transform: [\n            {\n              translateY: headerTranslateY.value,\n            },\n          ],\n        }\n      }, [revealHeaderOnScroll])\n\n      const onTabPress = React.useCallback(\n        (name: TabName) => {\n          const i = tabNames.value.findIndex((n) => n === name)\n\n          if (name === focusedTab.value) {\n            const ref = refMap[name]\n            runOnUI(scrollToImpl)(\n              ref,\n              0,\n              headerScrollDistance.value - contentInset,\n              true\n            )\n          } else {\n            containerRef.current?.setPage(i)\n          }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [containerRef, refMap, contentInset]\n      )\n\n      useAnimatedReaction(\n        () => tabNamesArray.length,\n        (tabLength) => {\n          if (index.value >= tabLength) {\n            runOnJS(onTabPress)(tabNamesArray[tabLength - 1])\n          }\n        }\n      )\n\n      const pageScrollHandler = usePageScrollHandler({\n        onPageScroll: (e) => {\n          'worklet'\n          indexDecimal.value = e.position + e.offset\n        },\n      })\n\n      React.useImperativeHandle(\n        ref,\n        () => ({\n          setIndex: (index) => {\n            const name = tabNames.value[index]\n            onTabPress(name)\n            return true\n          },\n          jumpToTab: (name) => {\n            onTabPress(name)\n            return true\n          },\n          getFocusedTab: () => {\n            return tabNames.value[index.value]\n          },\n          getCurrentIndex: () => {\n            return index.value\n          },\n        }),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [onTabPress]\n      )\n\n      return (\n        <Context.Provider\n          value={{\n            contentInset,\n            tabBarHeight,\n            headerHeight,\n            refMap,\n            tabNames,\n            index,\n            snapThreshold,\n            revealHeaderOnScroll,\n            focusedTab,\n            accDiffClamp,\n            indexDecimal,\n            containerHeight,\n            minHeaderHeight,\n            scrollYCurrent,\n            scrollY,\n            setRef,\n            headerScrollDistance,\n            accScrollY,\n            oldAccScrollY,\n            offset,\n            snappingTo,\n            contentHeights,\n            headerTranslateY,\n            width,\n            allowHeaderOverscroll,\n          }}\n        >\n          <Animated.View\n            style={[styles.container, { width }, containerStyle]}\n            onLayout={getContainerLayoutHeight}\n            pointerEvents=\"box-none\"\n          >\n            <Animated.View\n              pointerEvents=\"box-none\"\n              style={[\n                styles.topContainer,\n                headerContainerStyle,\n                !cancelTranslation && stylez,\n              ]}\n            >\n              <View\n                style={[styles.container, styles.headerContainer]}\n                onLayout={getHeaderHeight}\n                pointerEvents=\"box-none\"\n              >\n                {renderHeader &&\n                  renderHeader({\n                    containerRef,\n                    index,\n                    tabNames: tabNamesArray,\n                    focusedTab,\n                    indexDecimal,\n                    onTabPress,\n                    tabProps,\n                  })}\n              </View>\n              <View\n                style={[styles.container, styles.tabBarContainer]}\n                onLayout={getTabBarHeight}\n                pointerEvents=\"box-none\"\n              >\n                {renderTabBar &&\n                  renderTabBar({\n                    containerRef,\n                    index,\n                    tabNames: tabNamesArray,\n                    focusedTab,\n                    indexDecimal,\n                    width,\n                    onTabPress,\n                    tabProps,\n                  })}\n              </View>\n            </Animated.View>\n\n            <AnimatedPagerView\n              ref={containerRef}\n              onPageScroll={pageScrollHandler}\n              initialPage={initialIndex}\n              {...pagerProps}\n              style={[pagerProps?.style, StyleSheet.absoluteFill]}\n            >\n              {tabNamesArray.map((tabName, i) => {\n                return (\n                  <View key={i} style={styles.pageContainer}>\n                    <TabNameContext.Provider value={tabName}>\n                      <Lazy\n                        startMounted={lazy ? undefined : true}\n                        cancelLazyFadeIn={!lazy ? true : !!cancelLazyFadeIn}\n                        // ensure that we remount the tab if its name changes but the index doesn't\n                        key={tabName}\n                      >\n                        {\n                          React.Children.toArray(children)[\n                            i\n                          ] as React.ReactElement\n                        }\n                      </Lazy>\n                    </TabNameContext.Provider>\n                  </View>\n                )\n              })}\n            </AnimatedPagerView>\n          </Animated.View>\n        </Context.Provider>\n      )\n    }\n  )\n)\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  pageContainer: {\n    height: '100%',\n    width: '100%',\n  },\n  topContainer: {\n    position: 'absolute',\n    zIndex: 100,\n    width: '100%',\n    backgroundColor: 'white',\n    shadowColor: '#000000',\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.23,\n    shadowRadius: 2.62,\n    elevation: 4,\n  },\n  tabBarContainer: {\n    zIndex: 1,\n  },\n  headerContainer: {\n    zIndex: 2,\n  },\n})\n"],"mappings":"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","ignoreList":[]}